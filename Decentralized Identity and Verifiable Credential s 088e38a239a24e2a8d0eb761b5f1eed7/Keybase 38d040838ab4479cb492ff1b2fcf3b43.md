# Keybase

Abstract: Keybase is a safe, secure, and private app for everything you do online.
Chat with friends and family. Share photos, videos, and top secret documents. Collaborate to get work done, or don’t.
Whatever you do, your data is your data. Private stuff stays private. Accounts are secure against spoofing, phishing, and scamming. You can chat, share, and collaborate safely.

The central function of Keybase is to store, in a standardized format, public signatures for our users. The important signatures are of the form:
1. Identity proofs: "I am Joe on Keybase and MrJoe on Twitter"
2. Follower statements: "I am Joe on Keybase and I just looked at Chris's identity"
3. Key ownership: "I am Joe on Keybase and here's my public key"
4. Revocations: "I take back what I said earlier"
Actions needed and questions: @Genya why was this marked as not relevant?
@Albert Garreta please provide an abstract
@Michal Zajac Done, I copied a couple of descriptive paragraphs from two different parts of KeyBase
Added to deliverable?: No
Already read?: Yes
Assigned readers: Albert Garreta
BS factor: solid
Classification: Data to Web3
Labels: Centralized/permissioned, Linkage of Web2 Ids, Management of credentials, Not Sybil resistant, Possible tool in larger solution, Web2 credentials
Link to the paper: https://book.keybase.io/guides/proof-integration-guide
MZ checked the note: Yes
Presentation date: November 9, 2022
Reviewers: Genya
Score Phase 1: Relevant
Work Group: Blockchain projects

Keybase is a platform that stores and manages public signatures from its users. The signatures attest to statements of the following possible types:

1. **Identity proofs**: "I am Joe on Keybase and MrJoe on Twitter"
2. **Follower statements**: "I am Joe on Keybase and I just looked at Chris's identity"
3. **Key ownership**: "I am Joe on Keybase and here's my public key"
4. **Revocations**: "I take back what I said earlier"

The signatures of a user $U$ are chained together in a “blockchain-fashion”. This allows other users to verify all of $U$’s signatures at once (as we see next).

More precisely, each user $U$ has a **most recent** signature $S_U$. Such a signature can be seen as the “state” of $U$.

When $U$ would sign a new statement $st$ of the type above, instead it also signs the hash of its state.

Hence the new state is:

$$
S_{U_i} \gets \text{Sign}(\text{Hash}(S_{U_{i - 1}}) || \text{statement}, sk)
$$

This way any other user can verify all previous signatures of $U$ by verifying $S_{U}$, assuming the preceding state was verified before. 

State verifications are made periodically by Keybase, and additionally, when two users interact, they verify their states.

Keybase stores all signatures and user’s state on its server. Additionally, it periodically posts the Merkle root of all the user’s states onto the blockchain Stellar, i.e. it posts the root of the Merkle tree corresponding to the vector $(S_{U_1}, \ldots, S_{U_n})$ where $U_1, \ldots, U_n$ are all of Keybase’s users.

In any case, for now, one needs to trust Keybase’s servers. They envision a scenario where untrusted mirrors also push states onto the blockchain, thus reducing the trust focus on Keybase’s servers.

For each user $U$, all previous signatures of $U$ are public (along with the messages signed). 

This way anyone can see any message signed by $U$ and verify its signature. Additionally, the state $S_U$ of $U$ can be verified from scratch by requesting these signatures from the server.

### An application: l**inking web2 Ids**

A **Keybase identity** consists of a username and one or more of the following:

- “paper keys” (these are mnemonic phrases like in web3 wallets).
- “device keys” (laptop, phone, etc). The link is not really to a device, but to a key file stored in the device.

One needs one of the paper or device keys to access one’s account.

Keybase sells this as one of its key distinguishing factor from other “general Web2 Id providers” like, say, Google, Apple, etc.

**Id linking**

Now say the Keybase user Alice wants to link her Twitter Id to her Keybase Id. To do so:

1. She signs a statement that says that she is Alice on Keybase and @Alice on Twitter (or whatever the handles are). 
2. She posts the signature both on Keybase and on Twitter.
    
    ![Source: [https://book.keybase.io/account#proofs](https://book.keybase.io/account#proofs)](Keybase%2038d040838ab4479cb492ff1b2fcf3b43/Untitled.png)
    
    Source: [https://book.keybase.io/account#proofs](https://book.keybase.io/account#proofs)
    

Keybase offers linking to: Twitter, GitHub, Reddit, and Hacker News. I assume they have plans to expand this list.

### Evaluation

**Interest of the problem**

In the context of Lido, the problem of linking several Web2 Ids is interesting because of the following:

- In a decentralized permissionless Lido, it would be reasonable to have some kind of parameter that measures the “Id legitimacy” of entities.
- The higher such parameter, the more secure we should be that the entity is not a “duplicate” of another existing entity. 
Accordingly, we can give more privileges to such entities.
- Entities that have proved ownership of several “reputable” Web2 Ids should have a higher “Id legitimacy” than those that don’t.
- Hence, a tool that allows proving such ownership is interesting for our context.
    
    Keybase or a variation of Keybase could be parts of such a tool.
    

**Caveat 1 — weakness of linkings**

It is easy for Alice to link the Twitter account of a friend of hers, as long as the friend is willing to do so. 

It suffices for the friend, say Bob, to log into Bob’s Twitter account and perform the same actions Alice would do if it owned that Twitter account.

More abstractly, in Keybase, the meaning of two accounts “belonging to the same person” (using Keybase’s terminology) is that this “unique person” is able to log into the two accounts. 

It would be more accurate to say that Keybase allows a network of Web2 accounts from different platforms to create a common identifier, proving that all accounts involved wanted to do so.

A simple addition to Keybase  that can be of interest to us is the following:

> Enforce that a Web2 account is linked to at most one Keybase account. This way, each Keybase account represents a group of unique Web2 identifiers**.**
> 

This sounds like something that can fit within the Lido problem.

**Issue:** Web2 owners could “sell” their accounts so that an entity can link them to its Keybase account.

The only cost for the Web2 owners is to have a Tweet (or equivalent) stating that “it is certain user in Keybase”.

I wonder if some further modifications can be made to deincentivize this “selling” or sharing of accounts. For example, adding a mechanism that would force one of the parties to reveal a private key (perhaps somehow using a zk-SNARK to keep the password private from the public).

**Caveat 2 — quality of web2 Ids**

Keybase does not make any checks on how “good” the web2 accounts linked to a Keybase account are (by “good” we mean, for example, that the user has a long story and many followers and tweets). 

For Lido, it is essential that these web2 accounts are rated. Otheriwise an entity can create dummy accounts in all possible forms and shapes.

**Caveat 3 — storage**

As we saw, there are many signatures that need to be stored somewhere (in Keybase’s case, in its servers, and partially in Stellar). 

Implementing a similar solution with Lido would require designing some kind of cheap storage mechanism. This could be Narwhal 🐋, as mentioned in previous discussions of ours. 

### Further services

Keybase also offers:

- The option to **“follow” other users**. You get notified when a user you follow changes its state.
    
    Keybase hopes that having a dense network of people following each other will act as a **sentinel** for bogus claims.
    
    (e.g. if association A with which Alice has nothing to do suddenly claims it is Alice on Twitter, Alice’s followers will raise a red flag, indicating that Alice’s account may have been hacked).
    
    Also, followers periodically verify the state of the users they follow.
    
- **Messaging app**, with cryptographically enabled privacy.
- **Web3 wallet**. It works on Stellar (Keybase was founded by the “Stellar Development Foundation”)
- **File manager**. Allows having folders with public files, and folders with encrypted files that can be decrypted only with the Keybase keys.