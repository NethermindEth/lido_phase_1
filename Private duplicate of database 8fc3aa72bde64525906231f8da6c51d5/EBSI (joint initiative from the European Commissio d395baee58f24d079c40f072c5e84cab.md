# EBSI (joint initiative from the European Commission and the European Blockchain Partnership)

Abstract: This playbook presents the DIDs and Verifiable Credentials technology that is built on EBSI. 
EBSI is a joint initiative from the European Commission and the European Blockchain Partnership. ``The vision is to leverage blockchain to accelerate the creation of cross-border services for public administrations and their ecosystems to verify information and to make services more trustworthy.''
``Since 2020, EBSI has been deploying a network of distributed nodes across Europe, supporting applications focused on selected use cases.''  (abstracts from https://ec.europa.eu/digital-building-blocks/wikis/display/EBSI/Home)
Classification: DI, VC
Labels: Decentralized identity, Good reference source, Implementations, Self-sovereign identity, Verifiable Credentials
Link to the paper: https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained
Score: no idea
Score Phase 1: Relevant

[https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)

I rated this playbook as relevant because (i) it explains the DID format according to the [W3C standard](https://www.w3.org/TR/vc-data-model/) and it provides some interesting insights regarding various DID methods that can be used for the issuer and the user in a Verifiable Credential system. (ii) it is an application of Verifiable Credentials.

The disadvantage of their construction for our case is that the issuer needs to digitally sign.

## W3C DIDs and Verifiable Credentials based on the European Blockchain Framework (EBSI)

The Verifiable Credentials will be used so that the citizens can prove claims about their identities to public administrations and businesses.

A trusted **issuer** issues the Verifiable Credential (VC), and the **holder** stores the VC in a digital wallet and can present it to a **verifier**.

### DIDs format according to W3C standard

![Untitled](EBSI%20(joint%20initiative%20from%20the%20European%20Commissio%20d395baee58f24d079c40f072c5e84cab/Untitled.png)

 Image from [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)

It consists of three parts.

1. The first part is ``did''.
2. The second part is the DID method that is used.  For example in this case this part is ``ebsi''.
3. The third part is a unique random string whose generation depends on the DID method.

### DIDs format in EBSI framework.

- The second part is **ebsi**.
- The **third** part is constructed using two different methods:  the first method is used for *Legal Entities* (LE), who will be the *issuers* of the Verifiable Credentials and the second one is used for *Natural Persons* (NP) who will be the *holders* of the credentials (or users).

.  

**DID method for the issuer**

![Untitled](EBSI%20(joint%20initiative%20from%20the%20European%20Commissio%20d395baee58f24d079c40f072c5e84cab/Untitled%201.png)

Image from [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)

- It supports frequent public key recovery: this means that the issuer can update frequently its public key without changing DID. The issuer creates a DID document that includes its public key and updates it when it changes its public key*.
- The DIDs and  DID documents are recorded on the ebsi ledger.
- The issuer holds a DID control key that it can use to update its DID document.
- The issuer can publish on the ebsi ledger a list of the revoked public keys.
- The generation of the DIDs and DID documents is made by a wallet-like application or back office application.

 * A **trusted accreditation authority** checks if the issuer holds the private keys for the public keys in the DID document and creates an issuer register, a list with all the approved issuers along with the certificates they can sign.

**DID method for the holder** 

![Untitled](EBSI%20(joint%20initiative%20from%20the%20European%20Commissio%20d395baee58f24d079c40f072c5e84cab/Untitled%202.png)

Image from  [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)

- The DIDs and the DID documents are generated by a digital wallet.
- The DID documents are stored in a digital wallet, they are not recorded on the ebsi ledger.
- It is connected with the public key of the holder.

### The Issuance of the Verifiable Credential

1. The issuer creates its DID and DID document (which includes its public keys), and posts it on the ebsi ledger. This DID is connected with a DID control key. 
2. **A trusted accreditation authority** checks if the issuer holds the private keys for the public keys on the DID document, and creates an issuer register, a list with all the approved issuers along with the certificates they can sign. 
3. The issuer can post on the ebsi ledger a CRL (certificate revocation list) or a list with revoked public keys. 
4. The holder communicates with the issuer via [OPENID connect protocol](https://openid.net/wordpress-content/uploads/2022/05/OIDF-Whitepaper_OpenID-for-Verifiable-Credentials_FINAL_2022-05-12.pdf). 
5. The holder authenticates himself with the issuer. The issuer checks if the holder is the owner of the private key connected to the DID. 
6. The issuer signs the verifiable credential. 
7. The holder stores this credential in the digital wallet.

### Verifiable Credential

![Untitled](EBSI%20(joint%20initiative%20from%20the%20European%20Commissio%20d395baee58f24d079c40f072c5e84cab/Untitled%203.png)

Image from  [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)

### Verifiable Credential Presentation

1. The verifier has a verifier app that can interact with the wallet and EBSI ledger.
2. The verifier asks the holder to prove that it knows the private key for the public key that is connected with its DID. 
3. The verifier verifies the signature of the issuer and checks that the public key has not been revoked.   

![Untitled](EBSI%20(joint%20initiative%20from%20the%20European%20Commissio%20d395baee58f24d079c40f072c5e84cab/Untitled%204.png)

  

 Image from  [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)

## References

1. EBSI Verifiable Credentials  [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Playbook](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSIDOC/EBSI+Verifiable+Credentials+Explained)
2. EBSI: European blockchain [https://ec.europa.eu/digital-building-blocks/wikis/display/EBSI/Home](https://ec.europa.eu/digital-building-blocks/wikis/display/EBSI/Home)
3.  Verifiable Credentials Data model v1.1, W3C recommendation [https://www.w3.org/TR/vc-data-model/](https://www.w3.org/TR/vc-data-model/) 
4. Jones, M., and N. Sakimura.Â *JSON Web Key (JWK) Thumbprint*
. No. rfc7638. 2015.
5. Chadwick, Kenichi Nakamura, and Jo Vercammen. "OpenID for Verifiable Credentials." (2022).